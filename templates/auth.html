{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Authorization</title>
<!--   <link rel = "icon" href = "{{BASE_DIR}}/img/22/CollegePreDictor.png" /> -->
  <link rel="stylesheet" href="{% static 'auth.css' %}?{% now "U" %}" />
  
</head>
<body>
  <div class="form-structor">
    <form action="" method="post">
      {% csrf_token %}
  	  <div class="signup">
    		<h2 class="form-title" id="signup"><span>or</span>Sign up</h2>
    		<div class="form-holder">
    			{{form.username}}
    			{{form.password1}}
    			{{form.password2}}
    		</div>
    		<button type="submit" class="submit-btn">Sign up</button>
        {% for field, errors in form.errors.items %}
        {% for error in errors %}
            <p style="color: RED; font-size:small;">{{error}}</p>
        {% endfor %}
      {% endfor %}
    	</div>
    </form>
    <form action="" method="post">
      {% csrf_token %}
	  <div class="login slide-up">
  		<div class="center">
  			<h2 class="form-title" id="login"><span>or</span>Log in</h2>
  			<div class="form-holder">
  				<input type="text" class="input" name='login_user' placeholder="Username" required/>
  				<input type="password" class="input" name='login_pass' placeholder="Password" required/>
  			</div>
  			<button type="submit" class="submit-btn">Log in</button>
         {% for msg in messages %}
          <p style="color: red;  font-size:small;">{{msg}}</p>
        {% endfor %}
  		</div>
	  </div>
    </form>
  </div>
<script>
  console.clear();
  
  const loginBtn = document.getElementById('login');
  const signupBtn = document.getElementById('signup');
  
  loginBtn.addEventListener('click', (e) => {
  	let parent = e.target.parentNode.parentNode;
  	Array.from(e.target.parentNode.parentNode.classList).find((element) => {
  		if(element !== "slide-up") {
  			parent.classList.add('slide-up')
  		}else{
  			signupBtn.parentNode.classList.add('slide-up')
  			parent.classList.remove('slide-up')
  		}
  	});
  });
  
  signupBtn.addEventListener('click', (e) => {
  	let parent = e.target.parentNode;
  	Array.from(e.target.parentNode.classList).find((element) => {
  		if(element !== "slide-up") {
  			parent.classList.add('slide-up')
  		}else{
  			loginBtn.parentNode.parentNode.classList.add('slide-up')
  			parent.classList.remove('slide-up')
  		}
  	});
  });
</script>
</body>
</html>